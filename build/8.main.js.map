{"version":3,"sources":["../../src/pages/order-detail/order-detail.module.ts","webpack:///./src/providers/cart-service.ts?2c4d**","../../src/pages/order-detail/order-detail.ts"],"names":[],"mappings":"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","file":"8.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { OrderDetailPage } from './order-detail';\n\n@NgModule({\n  declarations: [\n    OrderDetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(OrderDetailPage),\n  ],\n  exports: [\n    OrderDetailPage\n  ]\n})\nexport class OrderDetailPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/order-detail/order-detail.module.ts","import { Injectable } from '@angular/core';\nimport { Http, Headers, RequestOptions } from '@angular/http';\nimport { Events } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\n\nexport class Cart {\n\ttotalPrice: number;\n    totalQuantity: number;\n    items: any[] = [];\n \n\tconstructor() {\n\t\tthis.totalPrice = 0;\n        this.totalQuantity = 0;\n\t\tthis.items = [];\n\t}\n}\n\nexport class Order {\n\tuser_id: number;\n    hour: any;\n    date: any;\n    items: any;\n    local: String;\n    locality?: String;\n    address?: String;\n    postal_code?: String;\n    payment_method_id: number;\n    sub_total: number;\n    total: number;\n    coupon: string;\n    note?: string;\n    nif?: number;\n    coupon_value?: number;\n    fee?: number;\n    change?: number;\n\n\tconstructor() {\n\t\tthis.payment_method_id = null;\n        this.postal_code = null;\n        this.hour = null;\n\t}\n}\n\n@Injectable()\nexport class CartService {\n    API_URL = 'http://172.24.62.104/link.eddmi.com/index.php/takeaway/';\n    ENTITY_ID = 2;\n\t// API_URL = 'http://localhost/quero-takeaway/index.php/';\n\tconstructor(\n\t\tpublic events: Events,\n\t\tpublic storage: Storage,\n\t\tpublic http: Http\n\t) {}\n\n    addItem(item: any, measure: any): Promise<Cart> {\n        return this.get().then((cart) => {\n            console.log(cart);\n            let auxItem = cart.items.find((p: any) => p.id === item.id && p.measure_name === measure.name);\n            if(!auxItem) {\n                let newItem = item;\n                newItem.measure_name = measure.name;\n                newItem.price = measure.value;\n                newItem.quantity = 1;\n                cart.totalQuantity++;\n                cart.items.push(newItem);\n            }\n            else {\n                var index = cart.items.indexOf(auxItem);\n                cart.items[index].quantity++;\n            }\n            cart.totalPrice += Number(measure.value);\n            cart.totalPrice = Number(cart.totalPrice.toFixed(2));\n            this.set(cart);\n            return cart;\n        })\n    }\n\n    incrementQuantity(item: any): Promise<Cart> {\n        return this.get().then((cart) => {\n            console.log(cart);\n            let auxItem = cart.items.find((p: any) => p.id === item.id && p.measure_name === item.measure_name);\n            var index = cart.items.indexOf(auxItem);\n            cart.items[index].quantity++;\n            cart.totalPrice += Number(cart.items[index].price);\n            cart.totalPrice = Number(cart.totalPrice.toFixed(2));\n            this.set(cart);\n            return cart;\n        })\n    }\n\n    decrementQuantity(item: any): Promise<Cart> {\n        return this.get().then((cart) => {\n            let auxItem = cart.items.find((p: any) => p.id === item.id && p.measure_name === item.measure_name);\n            var index = cart.items.indexOf(auxItem);\n            if(cart.items[index].quantity > 1) {\n                cart.items[index].quantity--;\n                cart.totalPrice -= Number(cart.items[index].price);\n                cart.totalPrice = Number(cart.totalPrice.toFixed(2));\n                this.set(cart);\n            }\n            return cart;\n        })\n    }\n\n    removeItem(item: any): Promise<Cart> {\n        return this.get().then((cart) => {\n            let auxItem = cart.items.find((p: any) => p.id === item.id && p.measure_name === item.measure_name);\n            var index = cart.items.indexOf(auxItem);\n            if (index > -1) {\n                cart.totalQuantity--;\n                cart.totalPrice -= auxItem.quantity * Number(auxItem.price);\n                cart.totalPrice = Number(cart.totalPrice.toFixed(2));\n                cart.items.splice(index, 1);\n            }\n            this.set(cart);\n            return cart;\n        })\n    }\n\n\tset(cart: Cart): void {\n\t\tthis.storage.set('cart', cart);\n\t};\n\n\tget(): Promise<Cart> {\n\t\treturn this.storage.get('cart').then((value) => {\n            if(value) {\n                return value;\n            }\n            else {\n                let cart = new Cart();\n                this.set(cart);\n                return cart;\n            }\n\t\t});\n\t};\n\n    paymentMethods() : Promise<any> {\n\t\treturn new Promise(resolve => {\n\t\t\tvar url = this.API_URL + '/tkpaymentMethod/all';\n\t\t\tlet _headers = new Headers({ 'Authorization': this.ENTITY_ID });\n\t\t\tlet _options = new RequestOptions({headers: _headers});\n\t\t\tthis.http.get(url, _options)\n\t\t\t\t.map(res => res.json())\n\t\t\t\t.subscribe(data => {\n\t\t\t\t\tresolve(data);\n\t\t\t\t});\n\t\t});\n\t}  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/cart-service.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { Order } from '../../providers/cart-service';\n\n/**\n * Generated class for the OrderDetailPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-order-detail',\n  templateUrl: 'order-detail.html',\n})\nexport class OrderDetailPage {\n  order: Order = new Order();\n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n    this.order = this.navParams.data.order;\n    console.log(this.order);\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad OrderDetailPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/order-detail/order-detail.ts"],"sourceRoot":""}