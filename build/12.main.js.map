{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"12.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LoginPage } from './login';\n \n@NgModule({\n  declarations: [\n    LoginPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n  ],\n  exports: [\n    LoginPage\n  ]\n})\nexport class LoginPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { Component } from '@angular/core';\nimport { NgForm } from '@angular/forms';\n\nimport { IonicPage, AlertController, NavController, LoadingController } from 'ionic-angular';\n\nimport { UserService } from '../../providers/user-service';\n\n@IonicPage()\n@Component({\n\tselector: 'page-user',\n\ttemplateUrl: 'login.html'\n})\nexport class LoginPage {\n\tlogin: {email?: string, password?: string} = {};\n\tsubmitted = false;\n\tloading: any;\n\n\tconstructor(public navCtrl: NavController, public alertCtrl: AlertController, public UserService: UserService, public loadingCtrl: LoadingController) { \n\t\t// this.loading = this.loadingCtrl.create();\n\t}\n\n\tonLogin(form: NgForm) {\n\t\tthis.submitted = true;\n\t\t\n\t\tif (form.valid) {\n\t\t\tthis.loading = this.loadingCtrl.create();\n\t\t\tthis.loading.present().then(()=>{\n\t\t\t\tthis.UserService.login(this.login.email, this.login.password).then((value) => {\n\t\t\t\t\tthis.loading.dismiss();\n\t\t\t\t\tthis.navCtrl.setRoot('MenuPage');\n\t\t\t\t}, (error) => {\n\t\t\t\t\tthis.loading.dismiss();\n\t\t\t\t\tswitch(error.status) {\n\t\t\t\t\t\tcase 400:\n\t\t\t\t\t\t\tthis.alert(\"Erro\", \"Password errada\");\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 404:\n\t\t\t\t\t\t\tthis.alert(\"Erro\", \"O email não está registado\");\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tthis.alert(\"Erro\", \"Ocorreu um erro\");\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t})\n\t\t}\n\t}\n\n\tonSignup() {\n\t\tthis.navCtrl.push('SignupPage');\n\t}\n\n\trecoverPassword() {\n\t\tlet alert = this.alertCtrl.create({\n\t\t\ttitle: 'Recuperar password',\n\t\t\tbuttons: [\n\t\t\t\t'Cancelar'\n\t\t\t]\n\t\t});\n\t\talert.addInput({\n\t\t\tname: 'email',\n\t\t\tvalue: this.login.email,\n\t\t\tplaceholder: 'Email'\n\t\t});\n\t\talert.addButton({\n\t\t\ttext: 'Ok',\n\t\t\thandler: (data: any) => {\n\t\t\t\tthis.UserService.recoverPassword(data.email).then(data => {\n\t\t\t\t\tthis.alert('Sucesso', 'Pedido efectuado com sucesso. A nova password foi enviada para o seu email.');\n\t\t\t\t}, error => {\n\t\t\t\t\tswitch(error.status) {\n\t\t\t\t\t\tcase 404:\n\t\t\t\t\t\t\tthis.alert('Erro', 'O email não está registado.');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tthis.alert('Erro', 'Ocorreu um erro a alterar a password.');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t});\n\n\t\talert.present();\n\t}\n\n\talert(title: string, subtitle?: string) {\n\t\tlet alert = this.alertCtrl.create({\n\t\t\ttitle: title,\n\t\t\tsubTitle: subtitle,\n\t\t\tbuttons: ['Ok']\n\t\t});\n\t\talert.present();\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}